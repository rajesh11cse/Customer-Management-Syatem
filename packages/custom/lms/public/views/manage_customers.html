<div data-ng-controller="manage_customers_Ctrl">
   <section class="container-fluid  custom-container-fluid">
	    <div class="row well custom-row-well">
	      <b class="required"> <a class="text-primary" href="#!/superadminlogin">Dashboard</a> / Manage Customers</b>
	      <b class="pull-right"><a href="" ng-show="!show_customers_form" title="Add a customer" tooltip-placement="bottom" tooltip-trigger="mouseenter"
	      ng-click="show_customers_form = true; show_customers=false; customers = undefined;">Create Customer</a><a href="" ng-show="show_customers_form" title="Cancel" tooltip-placement="bottom" tooltip-trigger="mouseenter"
	      ng-click="show_customers_form = false;show_customers=true;" style="color:red;">Cancel</a> ? </b>
	    </div>
	    <spinner name="userSpinner" on-loaded="get_all_customers(limit, currentPage)">
	      <div data-ng-include="'/articles/views/spinner.html'" ></div> 
	    </spinner> 
		<div ng-show="show_customers_form" class="row well custom-row-well"> 
			<form name="customers_form" class="col-md-12">
		        <h3 class="main_title"><strong>Customer Registration Form</strong></h3>
		        <p class="required">* <span>Required Fields  </span> </p>
		        <label>Add a customer here !</label>
		        

                <div class="form-group">
                    <label class="required" for="name"><em>*</em>Name :</label>
                      <input type="text" name="name"  placeholder="Name" ng-model = "customers.name" class="form-control input-sm" id="name" required="">
                </div>


                <div class="form-group">
                    <label class="required" for="name"><em>*</em>Address :</label>
                      <input type="text" name="mobile" ng-model = "customers.address"  placeholder="Mobile Number" class="form-control input-sm" 
											required>
                </div>

                <div class="form-group">
                    <label class="required" for="name"><em>*</em>Mobile Number :</label>
                      <input type="text" name="mobile" ng-model = "customers.mobile"  placeholder="Mobile Number" 
											class="form-control input-sm" ng-pattern="/^[0-9]+$/" ng-minlength="10" ng-maxlength="10" id="Mobile" required>
                </div>

                <div class="form-group">
                    <label class="required" for="name"><em>*</em>Phone Number :</label>
                      <input type="text" name="mobile" ng-model = "customers.phone"  placeholder="Mobile Number" 
											class="form-control input-sm" ng-pattern="/^[0-9]+$/" ng-minlength="11" ng-maxlength="11" id="Mobile" required>
                </div>

								<div class="form-group">
                    <label class="required" for=""><em>*</em>Date of Birth(DOB) :</label>
                    <div class='input-group date'>
                        <input type="text" class="form-control  input-sm" uib-datepicker-popup="{{format}}" ng-model="dob" is-open="popup.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" ng-change = "" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-sm btn-default" ng-click="open()"><i class="glyphicon glyphicon-calendar"></i></button>
                       </span>
                   </div>
                </div>

                <div class="form-group">
                    <label class="required" for="name"><em>*</em>Email :</label>
                      <input type="email" name="name"  placeholder="Email Address" ng-model = "customers.email" class="form-control input-sm" id="email" required>
                </div>

                <button type="submit" ng-disabled="customers_form.$invalid" class="btn btn-sm btn-raised btn-success submitBtn pull-right" id="btn-register" 
								ng-click="add_customers(customers)"><i class="glyphicon glyphicon-edit"></i> Submit</button>
	            <button type="button" href="" class="btn btn-sm btn-raised btn-danger resetBtn pull-right" ng-click="customers = undefined;" id="btn-register"><i class="glyphicon glyphicon-repeat"></i> Reset</button>
	            <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	            <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</form>
		</div>
		<div ng-show="show_customers" class="row well custom-row-well"> 
			<uib-pagination total-items="total_customers" ng-model="currentPage" items-per-page="limit" max-size="maxSize" class="pagination-sm" boundary-links="true" rotate="false" ng-click = "pageChanged()"></uib-pagination>
			<p class = "pull-right" style = "padding-top:50px; padding-right:5px; color: #023A4D; font-size: 120%;">
		       Total Customers: {{total_customers}}
		    </p> 
			<table class="zceaTable" summary="Sample Table" style="width:100%;">
			    <thead style="border:2px solid #1E90FF;">
				    <tr>
				        <th scope="col">Sl. No.</th>
				        <th scope="col">Name</th>
								<th scope="col">Mobile No.</th>
								<th scope="col">Phone No.</th>
								<th scope="col">Address</th>
								<th scope="col">DOB</th>
								<th scope="col">Email id</th>
								<th scope="col">Action</th>
				     </tr>
				</thead>
			    <tbody>
			      	<tr scope="row" ng-repeat = "data in get_customers">
						<td ng-bind="$index+1+indexIncrement"></td>
						<td ng-bind="data.name"></td>
						<td ng-bind="data.mobile"></td>
						<td ng-bind="data.phone"></td>
						<td ng-bind="data.address"></td>
						<td ng-bind="data.dob | date : 'MMMM d, y'"></td>
						<td ng-bind="data.email"></td>
						<td>
							<button type="button" class="btn btn-danger btn-xs"  ng-click="remove_customer(data)"  title="Delete customer" >
								<i class="glyphicon glyphicon-trash"></i> Remove</button>
						</td>
					</tr>
			    </tbody>
		   </table>
		</div>
    </section>
</div>
